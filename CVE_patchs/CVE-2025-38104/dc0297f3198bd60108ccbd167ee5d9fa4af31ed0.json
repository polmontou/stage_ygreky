"diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c\nindex 1230ab2ba112..5aa0b4032291 100644\n--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c\n+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c\n@@ -4257,7 +4257,6 @@ int amdgpu_device_init(struct amdgpu_device *adev,\n \tmutex_init(&adev->grbm_idx_mutex);\n \tmutex_init(&adev->mn_lock);\n \tmutex_init(&adev->virt.vf_errors.lock);\n-\tmutex_init(&adev->virt.rlcg_reg_lock);\n \thash_init(adev->mn_hash);\n \tmutex_init(&adev->psp.mutex);\n \tmutex_init(&adev->notifier_lock);\n@@ -4283,6 +4282,7 @@ int amdgpu_device_init(struct amdgpu_device *adev,\n \tspin_lock_init(&adev->se_cac_idx_lock);\n \tspin_lock_init(&adev->audio_endpt_idx_lock);\n \tspin_lock_init(&adev->mm_stats.lock);\n+\tspin_lock_init(&adev->virt.rlcg_reg_lock);\n \tspin_lock_init(&adev->wb.lock);\n \n \tINIT_LIST_HEAD(&adev->reset_list);\ndiff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c\nindex 2056efaf157d..e6f0152e5b08 100644\n--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c\n+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.c\n@@ -1017,6 +1017,7 @@ u32 amdgpu_virt_rlcg_reg_rw(struct amdgpu_device *adev, u32 offset, u32 v, u32 f\n \tvoid *scratch_reg2;\n \tvoid *scratch_reg3;\n \tvoid *spare_int;\n+\tunsigned long flags;\n \n \tif (!adev->gfx.rlc.rlcg_reg_access_supported) {\n \t\tdev_err(adev->dev,\n@@ -1038,7 +1039,7 @@ u32 amdgpu_virt_rlcg_reg_rw(struct amdgpu_device *adev, u32 offset, u32 v, u32 f\n \tscratch_reg2 = (void __iomem *)adev->rmmio + 4 * reg_access_ctrl->scratch_reg2;\n \tscratch_reg3 = (void __iomem *)adev->rmmio + 4 * reg_access_ctrl->scratch_reg3;\n \n-\tmutex_lock(&adev->virt.rlcg_reg_lock);\n+\tspin_lock_irqsave(&adev->virt.rlcg_reg_lock, flags);\n \n \tif (reg_access_ctrl->spare_int)\n \t\tspare_int = (void __iomem *)adev->rmmio + 4 * reg_access_ctrl->spare_int;\n@@ -1097,7 +1098,7 @@ u32 amdgpu_virt_rlcg_reg_rw(struct amdgpu_device *adev, u32 offset, u32 v, u32 f\n \n \tret = readl(scratch_reg0);\n \n-\tmutex_unlock(&adev->virt.rlcg_reg_lock);\n+\tspin_unlock_irqrestore(&adev->virt.rlcg_reg_lock, flags);\n \n \treturn ret;\n }\ndiff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.h b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.h\nindex 270a032e2d70..0f3ccae5c1ab 100644\n--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.h\n+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_virt.h\n@@ -279,7 +279,8 @@ struct amdgpu_virt {\n \t/* the ucode id to signal the autoload */\n \tuint32_t autoload_ucode_id;\n \n-\tstruct mutex rlcg_reg_lock;\n+\t/* Spinlock to protect access to the RLCG register interface */\n+\tspinlock_t rlcg_reg_lock;\n \n \tunion amd_sriov_ras_caps ras_en_caps;\n \tunion amd_sriov_ras_caps ras_telemetry_en_caps;"