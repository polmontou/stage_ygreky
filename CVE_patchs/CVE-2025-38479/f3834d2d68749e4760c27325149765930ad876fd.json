"diff --git a/drivers/dma/fsl-edma-main.c b/drivers/dma/fsl-edma-main.c\nindex 133bdb48d1a5..e3e0e88a76d3 100644\n--- a/drivers/dma/fsl-edma-main.c\n+++ b/drivers/dma/fsl-edma-main.c\n@@ -401,6 +401,7 @@ fsl_edma2_irq_init(struct platform_device *pdev,\n \n \t\t/* The last IRQ is for eDMA err */\n \t\tif (i == count - 1) {\n+\t\t\tfsl_edma->errirq = irq;\n \t\t\tret = devm_request_irq(&pdev->dev, irq,\n \t\t\t\t\t\tfsl_edma_err_handler,\n \t\t\t\t\t\t0, \"eDMA2-ERR\", fsl_edma);\n@@ -420,10 +421,13 @@ static void fsl_edma_irq_exit(\n \t\tstruct platform_device *pdev, struct fsl_edma_engine *fsl_edma)\n {\n \tif (fsl_edma->txirq == fsl_edma->errirq) {\n-\t\tdevm_free_irq(&pdev->dev, fsl_edma->txirq, fsl_edma);\n+\t\tif (fsl_edma->txirq >= 0)\n+\t\t\tdevm_free_irq(&pdev->dev, fsl_edma->txirq, fsl_edma);\n \t} else {\n-\t\tdevm_free_irq(&pdev->dev, fsl_edma->txirq, fsl_edma);\n-\t\tdevm_free_irq(&pdev->dev, fsl_edma->errirq, fsl_edma);\n+\t\tif (fsl_edma->txirq >= 0)\n+\t\t\tdevm_free_irq(&pdev->dev, fsl_edma->txirq, fsl_edma);\n+\t\tif (fsl_edma->errirq >= 0)\n+\t\t\tdevm_free_irq(&pdev->dev, fsl_edma->errirq, fsl_edma);\n \t}\n }\n \n@@ -620,6 +624,8 @@ static int fsl_edma_probe(struct platform_device *pdev)\n \tif (!fsl_edma)\n \t\treturn -ENOMEM;\n \n+\tfsl_edma->errirq = -EINVAL;\n+\tfsl_edma->txirq = -EINVAL;\n \tfsl_edma->drvdata = drvdata;\n \tfsl_edma->n_chans = chans;\n \tmutex_init(&fsl_edma->fsl_edma_mutex);"