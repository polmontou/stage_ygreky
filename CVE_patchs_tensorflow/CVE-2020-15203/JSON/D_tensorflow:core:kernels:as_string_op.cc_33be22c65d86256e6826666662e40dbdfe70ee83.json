"diff --git a/tensorflow/core/kernels/as_string_op.cc b/tensorflow/core/kernels/as_string_op.cc\nindex 8341909fbc8..b9af976a654 100644\n--- a/tensorflow/core/kernels/as_string_op.cc\n+++ b/tensorflow/core/kernels/as_string_op.cc\n@@ -65,9 +65,26 @@ class AsStringOp : public OpKernel {\n     OP_REQUIRES(ctx, !(scientific && shortest),\n                 errors::InvalidArgument(\n                     \"Cannot select both scientific and shortest notation\"));\n+\n     format_ = \"%\";\n+    if (!fill_string.empty()) {\n+      switch (fill_string[0]) {\n+        case ' ':\n+        case '+':\n+        case '-':\n+        case '0':\n+        case '#':\n+          strings::Appendf(&format_, \"%s\", fill_string.c_str());\n+          break;\n+        default:\n+          bool fill_not_supported = true;\n+          OP_REQUIRES(ctx, !fill_not_supported,\n+                      errors::InvalidArgument(\"Fill argument not supported: \\\"\",\n+                                              fill_string, \"\\\"\"));\n+      }\n+    }\n     if (width > -1) {\n-      strings::Appendf(&format_, \"%s%d\", fill_string.c_str(), width);\n+      strings::Appendf(&format_, \"%d\", width);\n     }\n     if (precision > -1) {\n       strings::Appendf(&format_, \".%d\", precision);"