"diff --git a/tensorflow/lite/kernels/internal/types.h b/tensorflow/lite/kernels/internal/types.h\nindex 9db742ddf03..b077686dc15 100644\n--- a/tensorflow/lite/kernels/internal/types.h\n+++ b/tensorflow/lite/kernels/internal/types.h\n@@ -438,7 +438,7 @@ int MatchingArraySize(const ArrayType1& array1, int index1,\n inline int MatchingDim(const RuntimeShape& shape1, int index1,\n                        const RuntimeShape& shape2, int index2) {\n   TFLITE_DCHECK_EQ(shape1.Dims(index1), shape2.Dims(index2));\n-  return shape1.Dims(index1);\n+  return std::min(shape1.Dims(index1), shape2.Dims(index2));\n }\n \n template <typename... Args>"