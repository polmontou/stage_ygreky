"diff --git a/tensorflow/lite/core/subgraph.cc b/tensorflow/lite/core/subgraph.cc\nindex 47d0fddb12b..235a776c56f 100644\n--- a/tensorflow/lite/core/subgraph.cc\n+++ b/tensorflow/lite/core/subgraph.cc\n@@ -19,6 +19,7 @@ limitations under the License.\n #include <cstdint>\n \n #include \"tensorflow/lite/arena_planner.h\"\n+#include \"tensorflow/lite/builtin_ops.h\"\n #include \"tensorflow/lite/c/common.h\"\n #include \"tensorflow/lite/context_util.h\"\n #include \"tensorflow/lite/core/api/tensor_utils.h\"\n@@ -1030,6 +1031,19 @@ TfLiteStatus Subgraph::Invoke() {\n           tensor->data_is_stale) {\n         TF_LITE_ENSURE_STATUS(EnsureTensorDataIsReadable(tensor_index));\n       }\n+      if (tensor->data.raw == nullptr && tensor->bytes > 0) {\n+        if (registration.builtin_code == kTfLiteBuiltinReshape && i == 1) {\n+          // In general, having a tensor here with no buffer will be an error.\n+          // However, for the reshape operator, the second input tensor is only\n+          // used for the shape, not for the data. Thus, null buffer is ok.\n+          continue;\n+        } else {\n+          // In all other cases, we need to return an error as otherwise we will\n+          // trigger a null pointer dereference (likely).\n+          ReportError(\"Input tensor %d lacks data\", tensor_index);\n+          return kTfLiteError;\n+        }\n+      }\n     }\n \n     if (check_cancelled_func_ != nullptr &&"