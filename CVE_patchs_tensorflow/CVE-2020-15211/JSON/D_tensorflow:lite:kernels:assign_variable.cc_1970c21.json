"diff --git a/tensorflow/lite/kernels/assign_variable.cc b/tensorflow/lite/kernels/assign_variable.cc\nindex 4cb4e08e43a..b1c4cdf3c53 100644\n--- a/tensorflow/lite/kernels/assign_variable.cc\n+++ b/tensorflow/lite/kernels/assign_variable.cc\n@@ -40,8 +40,9 @@ TfLiteStatus Prepare(TfLiteContext* context, TfLiteNode* node) {\n   //   everything still works fine when variable ops aren't used.\n   TF_LITE_ENSURE_EQ(context, NumOutputs(node), 0);\n \n-  const TfLiteTensor* input_resource_id_tensor =\n-      GetInput(context, node, kInputVariableId);\n+  const TfLiteTensor* input_resource_id_tensor;\n+  TF_LITE_ENSURE_OK(context, GetInputSafe(context, node, kInputVariableId,\n+                                          &input_resource_id_tensor));\n   TF_LITE_ENSURE_EQ(context, input_resource_id_tensor->type, kTfLiteInt32);\n   TF_LITE_ENSURE_EQ(context, NumElements(input_resource_id_tensor), 1);\n \n@@ -51,9 +52,12 @@ TfLiteStatus Prepare(TfLiteContext* context, TfLiteNode* node) {\n TfLiteStatus Eval(TfLiteContext* context, TfLiteNode* node) {\n   Subgraph* subgraph = reinterpret_cast<Subgraph*>(context->impl_);\n \n-  const TfLiteTensor* input_resource_id_tensor =\n-      GetInput(context, node, kInputVariableId);\n-  const TfLiteTensor* input_value_tensor = GetInput(context, node, kInputValue);\n+  const TfLiteTensor* input_resource_id_tensor;\n+  TF_LITE_ENSURE_OK(context, GetInputSafe(context, node, kInputVariableId,\n+                                          &input_resource_id_tensor));\n+  const TfLiteTensor* input_value_tensor;\n+  TF_LITE_ENSURE_OK(\n+      context, GetInputSafe(context, node, kInputValue, &input_value_tensor));\n \n   int resource_id = input_resource_id_tensor->data.i32[0];\n   auto& resources = subgraph->resources();"