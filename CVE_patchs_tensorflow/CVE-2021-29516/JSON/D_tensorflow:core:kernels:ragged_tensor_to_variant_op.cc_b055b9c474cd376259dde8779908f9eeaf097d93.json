"diff --git a/tensorflow/core/kernels/ragged_tensor_to_variant_op.cc b/tensorflow/core/kernels/ragged_tensor_to_variant_op.cc\nindex 549dc68dfbf..687289cd380 100644\n--- a/tensorflow/core/kernels/ragged_tensor_to_variant_op.cc\n+++ b/tensorflow/core/kernels/ragged_tensor_to_variant_op.cc\n@@ -159,6 +159,11 @@ class RaggedTensorToVariantOp : public OpKernel {\n \n     // Unbatch the Ragged Tensor and encode the components.\n     std::vector<RaggedTensorVariant> unbatched_ragged_input;\n+    auto batched_splits_top_vec =\n+        batched_ragged_input.splits(0).vec<SPLIT_TYPE>();\n+    int num_components = batched_splits_top_vec.size() - 1;\n+    OP_REQUIRES(context, num_components >= 0,\n+                errors::Internal(\"Invalid split argument.\"));\n     OP_REQUIRES_OK(context, UnbatchRaggedZerothDim<VALUE_TYPE, SPLIT_TYPE>(\n                                 batched_ragged_input, &unbatched_ragged_input));\n "