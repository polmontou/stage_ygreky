"diff --git a/tensorflow/core/kernels/conv_grad_shape_utils.cc b/tensorflow/core/kernels/conv_grad_shape_utils.cc\nindex 7543ce66992..805f5809a47 100644\n--- a/tensorflow/core/kernels/conv_grad_shape_utils.cc\n+++ b/tensorflow/core/kernels/conv_grad_shape_utils.cc\n@@ -127,6 +127,10 @@ Status ConvBackpropComputeDimensionsV2(\n   // dimensions of the filter Tensor.\n   VLOG(2) << \"input vs filter_in depth \" << dims->in_depth << \" \"\n           << filter_shape.dim_size(num_dims - 2);\n+  if (filter_shape.dim_size(num_dims - 2) <= 0) {\n+    return errors ::InvalidArgument(\n+        label, \": filter depth must be strictly greated than zero\");\n+  }\n   if (dims->in_depth % filter_shape.dim_size(num_dims - 2)) {\n     return errors::InvalidArgument(\n         label, \": input depth must be evenly divisible by filter depth\");"