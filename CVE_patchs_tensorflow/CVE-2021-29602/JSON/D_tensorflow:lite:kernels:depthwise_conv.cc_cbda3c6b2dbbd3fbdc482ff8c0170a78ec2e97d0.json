"diff --git a/tensorflow/lite/kernels/depthwise_conv.cc b/tensorflow/lite/kernels/depthwise_conv.cc\nindex 42920e11fc4..fdbcae3607f 100644\n--- a/tensorflow/lite/kernels/depthwise_conv.cc\n+++ b/tensorflow/lite/kernels/depthwise_conv.cc\n@@ -285,8 +285,8 @@ TfLiteStatus ComputeDepthMultiplier(TfLiteContext* context,\n                                     int16* depth_multiplier) {\n   int num_filter_channels = SizeOfDimension(filter, 3);\n   int num_input_channels = SizeOfDimension(input, 3);\n+  TF_LITE_ENSURE(context, num_input_channels != 0);\n   TF_LITE_ENSURE_EQ(context, num_filter_channels % num_input_channels, 0);\n-\n   *depth_multiplier = num_filter_channels / num_input_channels;\n   return kTfLiteOk;\n }\n@@ -455,8 +455,9 @@ TfLiteStatus EvalHybridPerChannel(TfLiteContext* context, TfLiteNode* node,\n   float output_activation_min, output_activation_max;\n   CalculateActivationRange(params->activation, &output_activation_min,\n                            &output_activation_max);\n-  const int input_size = NumElements(input) / SizeOfDimension(input, 0);\n   const int batch_size = SizeOfDimension(input, 0);\n+  TF_LITE_ENSURE(context, batch_size != 0);\n+  const int input_size = NumElements(input) / batch_size;\n   TfLiteTensor* input_quantized;\n   TF_LITE_ENSURE_OK(context,\n                     GetTemporarySafe(context, node, data->input_quantized_index,"