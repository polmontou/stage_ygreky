"diff --git a/tensorflow/core/kernels/data/experimental/compression_ops.cc b/tensorflow/core/kernels/data/experimental/compression_ops.cc\nindex efa7018acb6..8cc214671bd 100644\n--- a/tensorflow/core/kernels/data/experimental/compression_ops.cc\n+++ b/tensorflow/core/kernels/data/experimental/compression_ops.cc\n@@ -48,6 +48,11 @@ void UncompressElementOp::Compute(OpKernelContext* ctx) {\n   Tensor tensor = ctx->input(0);\n   const Variant& variant = tensor.scalar<Variant>()();\n   const CompressedElement* compressed = variant.get<CompressedElement>();\n+  OP_REQUIRES(\n+      ctx, compressed != nullptr,\n+      errors::InvalidArgument(\n+          \"Input does not contain a compressed element. Instead got tensor \",\n+          tensor.DebugString()));\n \n   std::vector<Tensor> components;\n   OP_REQUIRES_OK(ctx, UncompressElement(*compressed, &components));"