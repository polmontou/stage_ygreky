"diff --git a/tensorflow/core/kernels/image/non_max_suppression_op.cc b/tensorflow/core/kernels/image/non_max_suppression_op.cc\nindex 5cb721ed710..69b05cc9d84 100644\n--- a/tensorflow/core/kernels/image/non_max_suppression_op.cc\n+++ b/tensorflow/core/kernels/image/non_max_suppression_op.cc\n@@ -930,6 +930,8 @@ class CombinedNonMaxSuppressionOp : public OpKernel {\n         errors::InvalidArgument(\"max_size_per_class must be 0-D, got shape \",\n                                 max_output_size.shape().DebugString()));\n     const int max_size_per_class = max_output_size.scalar<int>()();\n+    OP_REQUIRES(context, max_size_per_class > 0,\n+                errors::InvalidArgument(\"max_size_per_class must be positive\"));\n     // max_total_size: scalar\n     const Tensor& max_total_size = context->input(3);\n     OP_REQUIRES("