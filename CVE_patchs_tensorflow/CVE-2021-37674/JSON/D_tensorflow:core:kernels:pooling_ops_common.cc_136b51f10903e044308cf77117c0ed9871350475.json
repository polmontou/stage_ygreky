"diff --git a/tensorflow/core/kernels/pooling_ops_common.cc b/tensorflow/core/kernels/pooling_ops_common.cc\nindex 5e204520691..5bdaa6f5ff5 100644\n--- a/tensorflow/core/kernels/pooling_ops_common.cc\n+++ b/tensorflow/core/kernels/pooling_ops_common.cc\n@@ -171,6 +171,8 @@ PoolParameters::PoolParameters(OpKernelContext* context,\n     pad_depth = 0;\n     out_depth = depth;\n   } else {\n+    OP_REQUIRES(context, depth_window > 0,\n+                errors::InvalidArgument(\"depth_window must not be 0\"));\n     // Our current version of depthwise max pooling does not support\n     // any padding, and expects the depth_window to equal the\n     // depth_stride (no overlapping)."