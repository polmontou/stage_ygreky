"diff --git a/tensorflow/lite/kernels/internal/optimized/integer_ops/pooling.h b/tensorflow/lite/kernels/internal/optimized/integer_ops/pooling.h\nindex 17495135038..0a6d63d3fab 100644\n--- a/tensorflow/lite/kernels/internal/optimized/integer_ops/pooling.h\n+++ b/tensorflow/lite/kernels/internal/optimized/integer_ops/pooling.h\n@@ -144,7 +144,7 @@ inline void MaxPool(const PoolParams& params, const RuntimeShape& input_shape,\n   }\n }\n \n-inline void AveragePool(const PoolParams& params,\n+inline bool AveragePool(const PoolParams& params,\n                         const RuntimeShape& input_shape, const int8* input_data,\n                         const RuntimeShape& output_shape, int8* output_data) {\n   ruy::profiler::ScopeLabel label(\"AveragePool/8bitWith32bitAccumulator\");\n@@ -192,6 +192,7 @@ inline void AveragePool(const PoolParams& params,\n               std::min(params.filter_height, input_height - in_y_origin);\n           const int filter_count =\n               (filter_x_end - filter_x_start) * (filter_y_end - filter_y_start);\n+          if (filter_count == 0) return false;\n           memset(acc, 0, tranche_depth * sizeof(acc[0]));\n           const int8* input_ptr =\n               input_data + depth_base +\n@@ -267,6 +268,7 @@ inline void AveragePool(const PoolParams& params,\n       }\n     }\n   }\n+  return true;\n }\n \n }  // namespace optimized_integer_ops"