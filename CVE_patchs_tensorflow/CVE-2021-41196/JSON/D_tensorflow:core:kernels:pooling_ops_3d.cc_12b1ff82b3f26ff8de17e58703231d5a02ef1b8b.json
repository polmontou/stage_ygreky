"diff --git a/tensorflow/core/kernels/pooling_ops_3d.cc b/tensorflow/core/kernels/pooling_ops_3d.cc\nindex af00b6368c7..d4dc87c7e3f 100644\n--- a/tensorflow/core/kernels/pooling_ops_3d.cc\n+++ b/tensorflow/core/kernels/pooling_ops_3d.cc\n@@ -141,6 +141,11 @@ class Pooling3DOp : public UnaryOp<T> {\n     OP_REQUIRES(context, ksize_.size() == 5,\n                 errors::InvalidArgument(\"Sliding window ksize field must \"\n                                         \"specify 5 dimensions\"));\n+    bool non_negative =\n+        std::all_of(ksize_.begin(), ksize_.end(), [](int k) { return k > 0; });\n+    OP_REQUIRES(context, non_negative,\n+                errors::InvalidArgument(\"Sliding window ksize field must \"\n+                                        \"have non-negative dimensions\"));\n     OP_REQUIRES_OK(context, context->GetAttr(\"strides\", &stride_));\n     OP_REQUIRES(context, stride_.size() == 5,\n                 errors::InvalidArgument(\"Sliding window stride field must \""