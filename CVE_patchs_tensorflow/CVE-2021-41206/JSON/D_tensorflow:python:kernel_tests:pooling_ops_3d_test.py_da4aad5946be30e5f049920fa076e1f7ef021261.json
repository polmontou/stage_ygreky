"diff --git a/tensorflow/python/kernel_tests/pooling_ops_3d_test.py b/tensorflow/python/kernel_tests/pooling_ops_3d_test.py\nindex 203d3ad2f28..12710c47a4a 100644\n--- a/tensorflow/python/kernel_tests/pooling_ops_3d_test.py\n+++ b/tensorflow/python/kernel_tests/pooling_ops_3d_test.py\n@@ -16,9 +16,13 @@\n \n import numpy as np\n \n+from tensorflow.python.eager import context\n from tensorflow.python.framework import constant_op\n from tensorflow.python.framework import errors\n+from tensorflow.python.framework import errors_impl\n from tensorflow.python.framework import test_util\n+from tensorflow.python.ops import array_ops\n+from tensorflow.python.ops import gen_nn_ops\n from tensorflow.python.ops import gradient_checker\n from tensorflow.python.ops import gradients_impl\n from tensorflow.python.ops import nn_ops\n@@ -515,6 +519,44 @@ class PoolingTest(test.TestCase):\n           pool_3d = f(input_tensor, ksize=[2, 2, 0], strides=1, padding=\"VALID\")\n           self.evaluate(pool_3d)\n \n+  def testMaxPoolGradEagerShapeErrors(self):\n+    with context.eager_mode():\n+      orig_in = array_ops.ones((1, 1, 1, 1, 1))\n+\n+      # Test invalid orig_out shape\n+      orig_out = array_ops.ones((1, 1, 1, 1, 2))\n+      grad = array_ops.ones((1, 1, 1, 1, 1))\n+      with self.assertRaisesRegex(\n+          errors_impl.InvalidArgumentError,\n+          r\"Expected orig_output shape to be \\[1,1,1,1,1\\], but got \"\n+          r\"\\[1,1,1,1,2\\]\"):\n+        gen_nn_ops.max_pool3d_grad(\n+            orig_in, orig_out, grad, ksize=[1, 1, 1, 1, 1],\n+            strides=[1, 1, 1, 1, 1], padding=\"VALID\")\n+      with self.assertRaisesRegex(\n+          errors_impl.InvalidArgumentError,\n+          r\"Expected orig_output shape to be \\[1,1,1,1,1\\], but got \"\n+          r\"\\[1,1,1,1,2\\]\"):\n+        gen_nn_ops.max_pool3d_grad_grad(\n+            orig_in, orig_out, grad, ksize=[1, 1, 1, 1, 1],\n+            strides=[1, 1, 1, 1, 1], padding=\"VALID\")\n+\n+      # Test invalid grad shape\n+      orig_out = array_ops.ones((1, 1, 1, 1, 1))\n+      grad = array_ops.ones((1, 1, 1, 1, 2))\n+      with self.assertRaisesRegex(\n+          errors_impl.InvalidArgumentError,\n+          r\"Expected grad shape to be \\[1,1,1,1,1\\], but got \\[1,1,1,1,2\\]\"):\n+        gen_nn_ops.max_pool3d_grad(\n+            orig_in, orig_out, grad, ksize=[1, 1, 1, 1, 1],\n+            strides=[1, 1, 1, 1, 1], padding=\"VALID\")\n+      with self.assertRaisesRegex(\n+          errors_impl.InvalidArgumentError,\n+          r\"Expected grad shape to be \\[1,1,1,1,1\\], but got \\[1,1,1,1,2\\]\"):\n+        gen_nn_ops.max_pool3d_grad_grad(\n+            orig_in, orig_out, grad, ksize=[1, 1, 1, 1, 1],\n+            strides=[1, 1, 1, 1, 1], padding=\"VALID\")\n+\n \n if __name__ == \"__main__\":\n   test.main()"