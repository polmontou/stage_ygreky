"diff --git a/tensorflow/core/kernels/sequence_ops.cc b/tensorflow/core/kernels/sequence_ops.cc\nindex 7e6f688edf4..4ea36e9837a 100644\n--- a/tensorflow/core/kernels/sequence_ops.cc\n+++ b/tensorflow/core/kernels/sequence_ops.cc\n@@ -91,13 +91,19 @@ class RangeOp : public OpKernel {\n           errors::InvalidArgument(\n               \"Requires start >= limit when delta < 0: \", start, \"/\", limit));\n     }\n-    int64_t size = 0;\n-    if (std::is_integral<T>::value) {\n-      size = static_cast<int64_t>(\n-          (std::abs(limit - start) + std::abs(delta) - 1) / std::abs(delta));\n-    } else {\n-      size = static_cast<int64_t>(std::ceil(std::abs((limit - start) / delta)));\n-    }\n+    auto size_auto = (std::is_integral<T>::value\n+                          ? (Eigen::numext::abs(limit - start) +\n+                             Eigen::numext::abs(delta) - T(1)) /\n+                                Eigen::numext::abs(delta)\n+                          : Eigen::numext::ceil(\n+                                Eigen::numext::abs((limit - start) / delta)));\n+    OP_REQUIRES(\n+        context, size_auto <= std::numeric_limits<int64_t>::max(),\n+        errors::InvalidArgument(\"Requires ((limit - start) / delta) <= \",\n+                                std::numeric_limits<int64_t>::max()));\n+\n+    int64_t size = static_cast<int64_t>(size_auto);\n+\n     TensorShape shape;\n     OP_REQUIRES_OK(context, shape.AddDimWithStatus(size));\n     Tensor* out = nullptr;"