"diff --git a/tensorflow/core/ops/math_ops.cc b/tensorflow/core/ops/math_ops.cc\nindex 3f653287fdb..7bc9f8c9ffd 100644\n--- a/tensorflow/core/ops/math_ops.cc\n+++ b/tensorflow/core/ops/math_ops.cc\n@@ -1489,6 +1489,13 @@ Status RangeSize(const Tensor* start_t, const Tensor* limit_t,\n                       Eigen::numext::abs(delta))\n                    : (Eigen::numext::ceil(\n                          Eigen::numext::abs((limit - start) / delta))));\n+\n+  // Undefined behaviour if size will not fit into int64_t\n+  if (size > std::numeric_limits<int64_t>::max()) {\n+    return errors::InvalidArgument(\"Requires ((limit - start) / delta) <= \",\n+                                   std::numeric_limits<int64_t>::max());\n+  }\n+\n   c->set_output(0, c->Vector(static_cast<int64_t>(size)));\n   return Status::OK();\n }"