"diff --git a/tensorflow/core/kernels/sparse_dense_binary_op_shared.cc b/tensorflow/core/kernels/sparse_dense_binary_op_shared.cc\nindex db27abfda7e..29534bf0a26 100644\n--- a/tensorflow/core/kernels/sparse_dense_binary_op_shared.cc\n+++ b/tensorflow/core/kernels/sparse_dense_binary_op_shared.cc\n@@ -99,7 +99,9 @@ class SparseDenseBinaryOpShared : public OpKernel {\n \n     const auto indices_mat = indices_t->matrix<int64_t>();\n     const auto shape_vec = shape_t->vec<int64_t>();\n-    const auto lhs_dims = BCast::FromShape(TensorShape(shape_vec));\n+    TensorShape lhs_shape;\n+    OP_REQUIRES_OK(ctx, TensorShape::BuildTensorShape(shape_vec, &lhs_shape));\n+    const auto lhs_dims = BCast::FromShape(lhs_shape);\n     const auto rhs_dims = BCast::FromShape(dense_t->shape());\n     BCast b(lhs_dims, rhs_dims, false);  // false for keeping the same num dims.\n "