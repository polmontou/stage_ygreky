"diff --git a/tensorflow/core/framework/function.cc b/tensorflow/core/framework/function.cc\nindex 41b8d446149..492d9d54fe6 100644\n--- a/tensorflow/core/framework/function.cc\n+++ b/tensorflow/core/framework/function.cc\n@@ -181,7 +181,9 @@ class FunctionInstantiationHelper {\n     DataTypeVector dtypes;\n     TF_RETURN_IF_ERROR(\n         ArgNumType(attr_values, arg_def, &is_type_list, &dtypes));\n-    CHECK_GE(dtypes.size(), size_t{1});\n+    if (dtypes.size() < size_t{1}) {\n+      return errors::Internal(\"Expected a list of at least one dtype\");\n+    }\n     int arg_index = result_.nodes.size();\n     TF_RETURN_IF_ERROR(\n         AddItem(arg_def.name(), {true, arg_index, 0, is_type_list, dtypes}));"