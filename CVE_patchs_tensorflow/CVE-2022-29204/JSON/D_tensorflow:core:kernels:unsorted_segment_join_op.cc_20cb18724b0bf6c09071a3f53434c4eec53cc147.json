"diff --git a/tensorflow/core/kernels/unsorted_segment_join_op.cc b/tensorflow/core/kernels/unsorted_segment_join_op.cc\nindex 860cec80100..c8445ca4c4c 100644\n--- a/tensorflow/core/kernels/unsorted_segment_join_op.cc\n+++ b/tensorflow/core/kernels/unsorted_segment_join_op.cc\n@@ -94,8 +94,10 @@ class UnsortedSegmentJoinOp : public OpKernel {\n                 errors::InvalidArgument(\"Number of segments cannot be empty.\"));\n     auto num_segments = num_segments_tensor.scalar<NUM_SEGMENTS_TYPE>()();\n \n-    OP_REQUIRES(context, num_segments > 0,\n-                errors::InvalidArgument(\"Number of segments must be positive\"));\n+    OP_REQUIRES(\n+        context, num_segments >= 0,\n+        errors::InvalidArgument(\n+            \"Number of segments must be non-negative but got \", num_segments));\n     OP_REQUIRES(context, segment_dims != 0,\n                 errors::InvalidArgument(\"Segment_id cannot have rank 0\"));\n "