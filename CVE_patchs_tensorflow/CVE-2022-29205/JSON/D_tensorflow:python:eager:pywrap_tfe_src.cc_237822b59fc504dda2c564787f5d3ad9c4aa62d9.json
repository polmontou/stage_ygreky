"diff --git a/tensorflow/python/eager/pywrap_tfe_src.cc b/tensorflow/python/eager/pywrap_tfe_src.cc\nindex e1ed3bd94f5..53e75e976c5 100644\n--- a/tensorflow/python/eager/pywrap_tfe_src.cc\n+++ b/tensorflow/python/eager/pywrap_tfe_src.cc\n@@ -688,9 +688,12 @@ bool SetOpAttrScalar(TFE_Context* ctx, TFE_Op* op, const char* key,\n       for (int i = 0; i < num_dims; ++i) {\n         tensorflow::Safe_PyObjectPtr inner_py_value(\n             PySequence_ITEM(py_value, i));\n+        // If an error is generated when iterating through object, we can\n+        // sometimes get a nullptr.\n         if (inner_py_value.get() == Py_None) {\n           dims[i] = -1;\n-        } else if (!ParseDimensionValue(key, inner_py_value.get(), status,\n+        } else if (inner_py_value.get() == nullptr ||\n+                   !ParseDimensionValue(key, inner_py_value.get(), status,\n                                         &dims[i])) {\n           return false;\n         }"