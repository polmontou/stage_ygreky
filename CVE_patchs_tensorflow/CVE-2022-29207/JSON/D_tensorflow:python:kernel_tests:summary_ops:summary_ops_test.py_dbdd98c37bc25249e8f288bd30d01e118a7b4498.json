"diff --git a/tensorflow/python/kernel_tests/summary_ops/summary_ops_test.py b/tensorflow/python/kernel_tests/summary_ops/summary_ops_test.py\nindex a85c8634180..e18b69b57d1 100644\n--- a/tensorflow/python/kernel_tests/summary_ops/summary_ops_test.py\n+++ b/tensorflow/python/kernel_tests/summary_ops/summary_ops_test.py\n@@ -985,10 +985,12 @@ class SummaryWriterTest(test_util.TensorFlowTestCase):\n         self.assertEqual(3, get_total())\n         summary_ops.flush(writer=writer)\n         self.assertEqual(4, get_total())\n-        summary_ops.write('tag', 1, step=0)\n-        self.assertEqual(4, get_total())\n-        summary_ops.flush(writer=writer._resource)  # pylint:disable=protected-access\n-        self.assertEqual(5, get_total())\n+\n+  # Regression test for b/228097117.\n+  def testFlushFunction_disallowsInvalidWriterInput(self):\n+    with context.eager_mode():\n+      with self.assertRaisesRegex(ValueError, 'Invalid argument to flush'):\n+        summary_ops.flush(writer=())\n \n   @test_util.assert_no_new_tensors\n   def testNoMemoryLeak_graphMode(self):"