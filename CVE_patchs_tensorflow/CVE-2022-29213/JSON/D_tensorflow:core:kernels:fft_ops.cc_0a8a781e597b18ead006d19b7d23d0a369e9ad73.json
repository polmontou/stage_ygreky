"diff --git a/tensorflow/core/kernels/fft_ops.cc b/tensorflow/core/kernels/fft_ops.cc\nindex 14d0ebd9831..3186863884b 100644\n--- a/tensorflow/core/kernels/fft_ops.cc\n+++ b/tensorflow/core/kernels/fft_ops.cc\n@@ -66,6 +66,10 @@ class FFTBase : public OpKernel {\n \n       auto fft_length_as_vec = fft_length.vec<int32>();\n       for (int i = 0; i < fft_rank; ++i) {\n+        OP_REQUIRES(ctx, fft_length_as_vec(i) >= 0,\n+                    errors::InvalidArgument(\n+                        \"fft_length[\", i,\n+                        \"] must >= 0, but got: \", fft_length_as_vec(i)));\n         fft_shape[i] = fft_length_as_vec(i);\n         // Each input dimension must have length of at least fft_shape[i]. For\n         // IRFFTs, the inner-most input dimension must have length of at least"