"diff --git a/tensorflow/core/kernels/reshape_op.h b/tensorflow/core/kernels/reshape_op.h\nindex cd8ffefdff2..9f6dd2c156c 100644\n--- a/tensorflow/core/kernels/reshape_op.h\n+++ b/tensorflow/core/kernels/reshape_op.h\n@@ -45,6 +45,11 @@ class ReshapeOp : public OpKernel {\n          TensorShapeUtils::IsScalar(sizes.shape())),\n         errors::InvalidArgument(\"sizes input must be 1-D, not \",\n                                 sizes.shape().DebugString()));\n+    OP_REQUIRES(\n+        context, sizes.NumElements() < TensorShape::MaxDimensions(),\n+        errors::InvalidArgument(\"too many dimensions: must be < \",\n+                                TensorShape::MaxDimensions(), \", but received \",\n+                                sizes.NumElements()));\n \n     // Compute the output shape.  Determine product of specified\n     // dimensions, and find the index of the unspecified one."