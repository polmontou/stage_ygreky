"diff --git a/tensorflow/python/kernel_tests/nn_ops/pooling_ops_test.py b/tensorflow/python/kernel_tests/nn_ops/pooling_ops_test.py\nindex 2eabfbe3957..e279f6e0027 100644\n--- a/tensorflow/python/kernel_tests/nn_ops/pooling_ops_test.py\n+++ b/tensorflow/python/kernel_tests/nn_ops/pooling_ops_test.py\n@@ -772,6 +772,18 @@ class PoolingTest(test.TestCase, parameterized.TestCase):\n         expected=[],\n         **kwargs)\n \n+  @parameterized.parameters(\n+      GetTestConfigsDicts(nn_ops.max_pool, gen_nn_ops.max_pool_v2))\n+  @test_util.run_deprecated_v1\n+  def testMaxPoolInvalidFilterSize(self, **kwargs):\n+    with self.cached_session(use_gpu=test.is_gpu_available()):\n+      t = constant_op.constant(1.0, shape=[1, 1, 1, 1])\n+      with self.assertRaisesRegex(\n+          (errors_impl.InvalidArgumentError, ValueError),\n+          \"Negative dimension size\"):\n+        t = self.evaluate(\n+            nn_ops.max_pool(t, ksize=[1, 1, 2, 1], strides=1, padding=\"VALID\"))\n+\n   # Tests for DepthwiseMaxPooling on CPU only.\n   @parameterized.parameters(\n       GetTestConfigsDicts("