"diff --git a/tensorflow/core/kernels/list_kernels.h b/tensorflow/core/kernels/list_kernels.h\nindex 51a3eb306e7..96872c5486a 100644\n--- a/tensorflow/core/kernels/list_kernels.h\n+++ b/tensorflow/core/kernels/list_kernels.h\n@@ -895,6 +895,11 @@ class TensorListScatter : public OpKernel {\n     OP_REQUIRES_OK(c, c->allocate_output(0, {}, &output_tensor, attr));\n     Tensor indices = c->input(1);\n     PartialTensorShape element_shape;\n+    OP_REQUIRES(\n+        c, !TensorShapeUtils::IsMatrixOrHigher(c->input(2).shape()),\n+        errors::InvalidArgument(\n+            \"TensorListScatter: element_shape must be at most rank 1 but has \",\n+            \"the shape of \", c->input(2).shape().DebugString()));\n     OP_REQUIRES_OK(c, TensorShapeFromTensor(c->input(2), &element_shape));\n     // TensorListScatterV2 passes the num_elements input, TensorListScatter does\n     // not."