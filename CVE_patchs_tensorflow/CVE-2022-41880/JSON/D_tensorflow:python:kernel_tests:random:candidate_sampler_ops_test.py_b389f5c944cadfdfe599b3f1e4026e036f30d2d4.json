"diff --git a/tensorflow/python/kernel_tests/random/candidate_sampler_ops_test.py b/tensorflow/python/kernel_tests/random/candidate_sampler_ops_test.py\nindex b70a30f4606..396843ace3a 100644\n--- a/tensorflow/python/kernel_tests/random/candidate_sampler_ops_test.py\n+++ b/tensorflow/python/kernel_tests/random/candidate_sampler_ops_test.py\n@@ -18,6 +18,7 @@ import numpy as np\n \n from tensorflow.python.framework import constant_op\n from tensorflow.python.framework import dtypes\n+from tensorflow.python.framework import errors\n from tensorflow.python.framework import test_util\n from tensorflow.python.ops import array_ops\n from tensorflow.python.ops import candidate_sampling_ops\n@@ -127,6 +128,27 @@ class RangeSamplerOpsTest(test.TestCase):\n     # twice very rarely.\n     self.assertLessEqual(num_same, 2)\n \n+  def testCandidateOutOfRange(self):\n+    with self.assertRaisesRegex((ValueError, errors.InvalidArgumentError),\n+                                \"out of range\"):\n+      self.evaluate(\n+          candidate_sampling_ops.log_uniform_candidate_sampler(\n+              true_classes=[[0, 10]],\n+              num_true=2,\n+              num_sampled=1000,\n+              unique=False,\n+              range_max=2))\n+\n+    with self.assertRaisesRegex((ValueError, errors.InvalidArgumentError),\n+                                \"out of range\"):\n+      self.evaluate(\n+          candidate_sampling_ops.log_uniform_candidate_sampler(\n+              true_classes=[[0, -10]],\n+              num_true=2,\n+              num_sampled=1000,\n+              unique=False,\n+              range_max=2))\n+\n \n if __name__ == \"__main__\":\n   test.main()"