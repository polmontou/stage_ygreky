"# Tests of TensorFlow image kernels written using the Python API.\n\nload(\"//tensorflow:tensorflow.default.bzl\", \"cuda_py_test\", \"tf_py_test\")\n\npackage(licenses = [\"notice\"])\n\ntf_py_test(\n    name = \"attention_ops_test\",\n    size = \"small\",\n    srcs = [\"attention_ops_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:image_ops\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_bmp_op_test\",\n    size = \"small\",\n    srcs = [\"decode_bmp_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:image_ops\",\n        \"//tensorflow/python:nn_grad\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_compressed_op_test\",\n    size = \"small\",\n    srcs = [\"decode_compressed_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:parsing_ops\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_image_op_test\",\n    size = \"small\",\n    srcs = [\"decode_image_op_test.py\"],\n    data = [\"//tensorflow/core:image_testdata\"],\n    deps = [\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:errors\",\n        \"//tensorflow/python:image_ops\",\n        \"//tensorflow/python:io_ops\",\n        \"//tensorflow/python:nn_grad\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_jpeg_op_test\",\n    srcs = [\"decode_jpeg_op_test.py\"],\n    data = [\"//tensorflow/core:image_testdata\"],\n    deps = [\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:image_ops\",\n        \"//tensorflow/python:platform\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_png_op_test\",\n    size = \"small\",\n    srcs = [\"decode_png_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:image_ops\",\n        \"//tensorflow/python:nn_grad\",\n    ],\n)\n\ntf_py_test(\n    name = \"decode_raw_op_test\",\n    size = \"small\",\n    srcs = [\"decode_raw_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:parsing_ops\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ncuda_py_test(\n    name = \"draw_bounding_box_op_test\",\n    size = \"small\",\n    srcs = [\"draw_bounding_box_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//tensorflow/python:image_ops\",\n        \"//tensorflow/python:math_ops\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\n# TODO(gpapan): Revisit the gradient of extract_image_patches_op to resolve\n# http://b/31080670.\ncuda_py_test(\n    name = \"extract_image_patches_grad_test\",\n    size = \"medium\",\n    srcs = [\"extract_image_patches_grad_test.py\"],\n    shard_count = 15,\n    tags = [\n        \"no_oss\",  # b/241024908\n        \"no_rocm\",\n        \"nomac\",  # b/181799478\n        \"notap\",  # b/31080670\n    ],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ncuda_py_test(\n    name = \"extract_image_patches_op_test\",\n    size = \"small\",\n    srcs = [\"extract_image_patches_op_test.py\"],\n    # TODO(b/144432983): S32 convolutions should not be auto-clustered.\n    xla_enable_strict_auto_jit = False,\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ncuda_py_test(\n    name = \"extract_volume_patches_grad_test\",\n    size = \"medium\",\n    srcs = [\"extract_volume_patches_grad_test.py\"],\n    shard_count = 50,\n    tags = [\n        \"no_gpu\",  # b/171837334\n        \"no_oss\",  # Test times out on oss-nightly cpu builds\n        \"no_pip\",\n        \"nomac\",  # b/139946976\n        \"notap\",  # b/31080670\n    ],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//third_party/py/numpy\",\n    ],\n)\n\ncuda_py_test(\n    name = \"extract_volume_patches_op_test\",\n    size = \"small\",\n    srcs = [\"extract_volume_patches_op_test.py\"],\n    deps = [\n        \"//tensorflow/python:array_ops\",\n        \"//tensorflow/python:client_testlib\",\n        \"//tensorflow/python:framework_for_generated_wrappers\",\n        \"//third_party/py/numpy\",\n    ],\n)"