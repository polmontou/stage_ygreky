"diff --git a/tensorflow/core/kernels/list_kernels.h b/tensorflow/core/kernels/list_kernels.h\nindex 9a0782b830c..19fb3d48bc7 100644\n--- a/tensorflow/core/kernels/list_kernels.h\n+++ b/tensorflow/core/kernels/list_kernels.h\n@@ -395,8 +395,11 @@ class TensorListConcat : public OpKernel {\n   void Compute(OpKernelContext* c) override {\n     PartialTensorShape element_shape_except_first_dim;\n     if (!element_shape_.unknown_rank()) {\n-      element_shape_except_first_dim = PartialTensorShape(\n-          gtl::ArraySlice<int64_t>(element_shape_.dim_sizes()).subspan(1));\n+      auto dim_sizes = element_shape_.dim_sizes();\n+      OP_REQUIRES(c, !dim_sizes.empty(),\n+                  errors::InvalidArgument(\"element_shape must not be empty\"));\n+      element_shape_except_first_dim =\n+          PartialTensorShape(gtl::ArraySlice<int64_t>(dim_sizes).subspan(1));\n     }\n     // Check that the input Variant tensor is indeed a TensorList and has the\n     // correct element type."