"diff --git a/tensorflow/core/kernels/fractional_max_pool_op.cc b/tensorflow/core/kernels/fractional_max_pool_op.cc\nindex 375786615eb..3ea45277bb5 100644\n--- a/tensorflow/core/kernels/fractional_max_pool_op.cc\n+++ b/tensorflow/core/kernels/fractional_max_pool_op.cc\n@@ -258,6 +258,18 @@ class FractionalMaxPoolGradOp : public OpKernel {\n     OP_REQUIRES(context, tensor_out.NumElements() > 0,\n                 errors::InvalidArgument(\"orig_output must not be empty, got \",\n                                         tensor_out.DebugString()));\n+    OP_REQUIRES(\n+        context,\n+        height_seq_tensor.NumElements() * width_seq_tensor.NumElements() <=\n+            tensor_in.NumElements(),\n+        errors::InvalidArgument(\n+            \"Pooling region has more elements than the input tensor. \"\n+            \"row_pooling_sequence: \",\n+            height_seq_tensor.DebugString(),\n+            \"col_pooling_sequence: \", width_seq_tensor.DebugString(),\n+            \"orig_input: \", tensor_in.DebugString()));\n+\n+    //\n     std::vector<int64_t> input_size(tensor_in_and_out_dims);\n     std::vector<int64_t> output_size(tensor_in_and_out_dims);\n     for (int i = 0; i < tensor_in_and_out_dims; ++i) {"