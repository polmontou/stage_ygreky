"diff --git a/tensorflow/core/ops/nn_ops.cc b/tensorflow/core/ops/nn_ops.cc\nindex 417034477d1..c16563001e4 100644\n--- a/tensorflow/core/ops/nn_ops.cc\n+++ b/tensorflow/core/ops/nn_ops.cc\n@@ -63,6 +63,13 @@ Status FractionalPoolShapeFn(InferenceContext* c) {\n     }\n   }\n \n+  for (std::size_t i = 0; i < pooling_ratio.size(); ++i) {\n+    if (pooling_ratio[i] < 1) {\n+      return errors::InvalidArgument(\n+          \"pooling_ratio cannot be smaller than 1, got: \", pooling_ratio[i]);\n+    }\n+  }\n+\n   c->set_output(0, c->MakeShape(output_dims));\n   c->set_output(1, c->Vector(output_dims[1]));\n   c->set_output(2, c->Vector(output_dims[2]));"