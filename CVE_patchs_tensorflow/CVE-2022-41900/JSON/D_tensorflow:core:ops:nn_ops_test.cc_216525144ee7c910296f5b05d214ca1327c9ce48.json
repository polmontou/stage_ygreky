"diff --git a/tensorflow/core/ops/nn_ops_test.cc b/tensorflow/core/ops/nn_ops_test.cc\nindex 469a9015a17..41940da69ef 100644\n--- a/tensorflow/core/ops/nn_ops_test.cc\n+++ b/tensorflow/core/ops/nn_ops_test.cc\n@@ -523,7 +523,8 @@ TEST(NNOpsTest, FractionalPool_ShapeFn) {\n                        .Finalize(&op.node_def));\n     };\n \n-    set_op(std::vector<float>{2.0f, 1, 1 / 1.5f, 1 / 2.0f});\n+    // pooling_ratio must >= 1.0\n+    set_op(std::vector<float>{2.0f, 1, 1.5f, 4.0f});\n \n     // Rank check.\n     INFER_ERROR(\"must be rank 4\", op, \"[?,?,?]\");\n@@ -532,11 +533,11 @@ TEST(NNOpsTest, FractionalPool_ShapeFn) {\n     INFER_OK(op, \"?\", \"[?,?,?,?];[?];[?]\");\n     INFER_OK(op, \"[?,?,?,?]\", \"[?,?,?,?];[?];[?]\");\n \n-    INFER_OK(op, \"[10,20,30,40]\", \"[5,20,45,80];[20];[45]\");\n-    INFER_OK(op, \"[?,20,30,40]\", \"[?,20,45,80];[20];[45]\");\n-    INFER_OK(op, \"[10,?,30,40]\", \"[5,?,45,80];[?];[45]\");\n-    INFER_OK(op, \"[10,20,?,40]\", \"[5,20,?,80];[20];[?]\");\n-    INFER_OK(op, \"[10,20,30,?]\", \"[5,20,45,?];[20];[45]\");\n+    INFER_OK(op, \"[10,20,30,40]\", \"[5,20,20,10];[20];[20]\");\n+    INFER_OK(op, \"[?,20,30,40]\", \"[?,20,20,10];[20];[20]\");\n+    INFER_OK(op, \"[10,?,30,40]\", \"[5,?,20,10];[?];[20]\");\n+    INFER_OK(op, \"[10,20,?,40]\", \"[5,20,?,10];[20];[?]\");\n+    INFER_OK(op, \"[10,20,30,?]\", \"[5,20,20,?];[20];[20]\");\n \n     // Wrong number of values for pooling_ratio.\n     set_op(std::vector<float>{.5, 1.0, 1.5});"