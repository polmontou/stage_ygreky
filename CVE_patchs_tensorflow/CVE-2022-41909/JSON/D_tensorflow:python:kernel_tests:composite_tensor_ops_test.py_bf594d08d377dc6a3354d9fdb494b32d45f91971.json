"diff --git a/tensorflow/python/kernel_tests/composite_tensor_ops_test.py b/tensorflow/python/kernel_tests/composite_tensor_ops_test.py\nindex 7a10cae3ebc..4bce5c624d2 100644\n--- a/tensorflow/python/kernel_tests/composite_tensor_ops_test.py\n+++ b/tensorflow/python/kernel_tests/composite_tensor_ops_test.py\n@@ -25,6 +25,7 @@ from tensorflow.python.framework import sparse_tensor\n from tensorflow.python.framework import test_util\n from tensorflow.python.ops import composite_tensor_ops\n from tensorflow.python.ops import gen_composite_tensor_ops\n+from tensorflow.python.ops import gen_list_ops\n from tensorflow.python.ops import gradients_impl\n from tensorflow.python.ops import math_ops\n from tensorflow.python.ops import parsing_ops\n@@ -97,6 +98,18 @@ class ExtensionTypeTest(test_util.TensorFlowTestCase, parameterized.TestCase):\n           metadata='',\n           Tcomponents=[dtypes.int32])\n \n+  def testDecodingInvalidEncodedInputError(self):\n+    with self.assertRaisesRegex(errors.InvalidArgumentError,\n+                                'not a valid CompositeTensorVariant tensor'):\n+      self.evaluate(\n+          gen_composite_tensor_ops.CompositeTensorVariantToComponents(\n+              encoded=gen_list_ops.EmptyTensorList(\n+                  element_dtype=dtypes.int32,\n+                  element_shape=[1, 2],\n+                  max_num_elements=2),\n+              metadata='',\n+              Tcomponents=[dtypes.int32]))\n+\n   def testRoundTripThroughTensorProto(self):\n     value = ragged_factory_ops.constant([[1, 2], [3], [4, 5, 6]])\n     encoded = composite_tensor_ops.composite_tensor_to_variants(value)"