"diff --git a/tensorflow/core/data/tfdataz_metrics.cc b/tensorflow/core/data/tfdataz_metrics.cc\nindex 496a8a49b6d..5516f5f9a4f 100644\n--- a/tensorflow/core/data/tfdataz_metrics.cc\n+++ b/tensorflow/core/data/tfdataz_metrics.cc\n@@ -88,8 +88,9 @@ absl::Duration ApproximateLatencyEstimator::GetAverageLatency(Duration duration)\n   return absl::Duration(absl::Microseconds(interval_latency)) / interval_count;\n }\n \n-TfDatazMetricsCollector::TfDatazMetricsCollector(const Env& env)\n-    : latency_estimator_(env) {}\n+TfDatazMetricsCollector::TfDatazMetricsCollector(const Env& env,\n+                                                 IteratorBase* iterator)\n+    : iterator_(iterator), latency_estimator_(env) {}\n \n void TfDatazMetricsCollector::RecordGetNextLatency(\n     int64_t get_next_latency_usec) {\n@@ -113,6 +114,10 @@ absl::Duration TfDatazMetricsCollector::GetAverageLatencyForLastSixtyMinutes() {\n       ApproximateLatencyEstimator::Duration::kSixtyMinutes);\n }\n \n+int64_t TfDatazMetricsCollector::GetIteratorTotalMemoryUsage() {\n+  return iterator_->TotalBufferedBytes();\n+}\n+\n namespace {\n static mutex* get_tfdataz_metrics_registry_lock() {\n   static mutex tfdataz_metrics_registry_lock(LINKER_INITIALIZED);"