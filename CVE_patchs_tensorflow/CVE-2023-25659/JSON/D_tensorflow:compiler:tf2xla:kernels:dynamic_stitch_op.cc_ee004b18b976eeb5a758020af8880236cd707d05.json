"diff --git a/tensorflow/compiler/tf2xla/kernels/dynamic_stitch_op.cc b/tensorflow/compiler/tf2xla/kernels/dynamic_stitch_op.cc\nindex 7566cc79742..cd03b617158 100644\n--- a/tensorflow/compiler/tf2xla/kernels/dynamic_stitch_op.cc\n+++ b/tensorflow/compiler/tf2xla/kernels/dynamic_stitch_op.cc\n@@ -146,6 +146,10 @@ class DynamicStitchOp : public XlaOpKernel {\n     for (int input_num = 0; input_num < indices.size(); input_num++) {\n       for (int i = 0; i < indices[input_num].shape().dimensions(0); ++i) {\n         int index = indices[input_num].Get<int>({i});\n+        OP_REQUIRES(\n+            ctx, index >= 0,\n+            errors::InvalidArgument(\"indices[\", index, \"] is out of range\"));\n+\n         src_input_vector[index] = input_num;\n         src_slice_vector[index] = i;\n         if (!src_index_used[index]) {"