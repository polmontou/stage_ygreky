"diff --git a/tensorflow/core/kernels/tensor_array_ops.cc b/tensorflow/core/kernels/tensor_array_ops.cc\nindex 223478affe8..bd23fceb6a5 100644\n--- a/tensorflow/core/kernels/tensor_array_ops.cc\n+++ b/tensorflow/core/kernels/tensor_array_ops.cc\n@@ -80,8 +80,9 @@ Status GetTensorArray(OpKernelContext* ctx, TensorArray** tensor_array) {\n     TF_RETURN_IF_ERROR(GetHandle(ctx, &container, &ta_handle));\n     ResourceMgr* rm = ctx->resource_manager();\n     if (rm == nullptr) return errors::Internal(\"No resource manager.\");\n-    TF_RETURN_IF_ERROR(\n-        ctx->step_container()->Lookup(rm, container + ta_handle, tensor_array));\n+    ScopedStepContainer* sc = ctx->step_container();\n+    if (sc == nullptr) return errors::Internal(\"No step container.\");\n+    TF_RETURN_IF_ERROR(sc->Lookup(rm, container + ta_handle, tensor_array));\n     return OkStatus();\n   } else {\n     return LookupResource(ctx, HandleFromInput(ctx, 0), tensor_array);"