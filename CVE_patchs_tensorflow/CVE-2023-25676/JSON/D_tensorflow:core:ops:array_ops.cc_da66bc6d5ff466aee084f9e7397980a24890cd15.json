"diff --git a/tensorflow/core/ops/array_ops.cc b/tensorflow/core/ops/array_ops.cc\nindex ef23f456533..856e851aebb 100644\n--- a/tensorflow/core/ops/array_ops.cc\n+++ b/tensorflow/core/ops/array_ops.cc\n@@ -15,6 +15,7 @@ limitations under the License.\n \n #include <algorithm>\n #include <ostream>\n+#include <vector>\n \n #include \"tensorflow/core/framework/common_shape_fns.h\"\n #include \"tensorflow/core/framework/full_type.pb.h\"\n@@ -309,6 +310,12 @@ REGISTER_OP(\"ParallelConcat\")\n           return errors::InvalidArgument(\n               \"All input shapes must be fully defined.\");\n         }\n+        if (c->Rank(c->input(i)) < 1) {\n+          return errors::InvalidArgument(\n+              \"The rank of all input shapes must be greater than 0, \"\n+              \"but input \",\n+              i, \" had rank \", c->Rank(c->input(i)), \".\");\n+        }\n         DimensionHandle unused;\n         if (!c->WithValue(c->Dim(c->input(i), 0), 1, &unused).ok()) {\n           return errors::InvalidArgument(\"Size of first dimension must be 1.\");"